// ×”×¤×ª×¨×•×Ÿ ×”×¡×•×¤×™ ×”×××™×ª×™
function finalFinalSolution() {
  console.log('ğŸ”¥ ×”×¤×ª×¨×•×Ÿ ×”×¡×•×¤×™ ×•×”×××™×ª×™!');

  const testCases = [
    { input: '"××” ××ª×” ××•××¨"×©××œ ×”×¨×‘.', expected: '"××” ××ª×” ××•××¨" ×©××œ ×”×¨×‘.' },
    { input: '×××¨"×©×œ×•×."×•×”×œ×š.', expected: '×××¨ "×©×œ×•×". ×•×”×œ×š.' },
    { input: '×”× ×§×¨××•"×©××¢ ×™×©×¨××œ".×”×™×•×.', expected: '×”× ×§×¨××• "×©××¢ ×™×©×¨××œ". ×”×™×•×.' },
    { input: '×”×•× ×××¨"×× ×™ ×”×•×œ×š ×”×‘×™×ª×”".', expected: '×”×•× ×××¨ "×× ×™ ×”×•×œ×š ×”×‘×™×ª×”".' },
    { input: '×”×¡×¤×¨"×ª×•×¨×”" × ××¦× ×¢×œ ×”×©×•×œ×—×Ÿ.', expected: '×”×¡×¤×¨ "×ª×•×¨×”" × ××¦× ×¢×œ ×”×©×•×œ×—×Ÿ.' },
  ];

  console.log('\\nğŸ¯ ×”×¤×ª×¨×•×Ÿ ×”×—×›×:');

  testCases.forEach((tc, i) => {
    console.log(`\\n--- ××§×¨×” ${i+1} ---`);
    console.log('Input: ' + tc.input);

    let text = tc.input;

    // ×©×œ×‘ 1: ×¨×•×•×— ×œ×¤× ×™ ×’×¨×©×™×™× ×¤×•×ª×—×™× (××™×œ×”"×ª×—×™×œ×” -> ××™×œ×” "×ª×—×™×œ×”)
    text = text.replace(/([×-×ª])"([×-×ª])/g, '$1 "$2');
    console.log('×©×œ×‘ 1: ' + text);

    // ×©×œ×‘ 2: ×ª×™×§×•×Ÿ ×¡×¤×¦×™×¤×™ ×œ×’×¨×©×™×™× ×¡×•×’×¨×™× ×¦××•×“×™× ×œ××™×œ×” ×”×‘××”
    // ××‘×œ ×¨×§ ×× ×–×” × ×¨××” ×›××• ×¡×•×£ ×¦×™×˜×•×˜ ×•×œ× ×”×ª×—×œ×”
    // ×–×™×”×•×™: ××™×œ×” ××¨×•×›×” + ×¨×•×•×— + ×’×¨×©×™×™× + ××™×œ×” ×§×¦×¨×” (×›××• "×©××œ", "×××¨")
    text = text.replace(/([×-×ª]{3,}) "([×-×ª]{1,4})\\s/g, '$1" $2 ');
    console.log('×©×œ×‘ 2: ' + text);

    // ×©×œ×‘ 3: ×ª×™×§×•×Ÿ ."××™×œ×” -> ". ××™×œ×”
    text = text.replace(/\\."([×-×ª])/g, '." $1');
    console.log('×©×œ×‘ 3: ' + text);

    console.log('Expected: ' + tc.expected);
    console.log('SUCCESS: ' + (text === tc.expected ? 'âœ… YES!' : 'âŒ NO'));
  });

  // ×‘×“×™×§×” ×›×•×œ×œ×ª
  let successCount = 0;
  testCases.forEach((tc) => {
    let result = tc.input
      .replace(/([×-×ª])"([×-×ª])/g, '$1 "$2')
      .replace(/([×-×ª]{3,}) "([×-×ª]{1,4})\\s/g, '$1" $2 ')
      .replace(/\\."([×-×ª])/g, '." $1');

    if (result === tc.expected) successCount++;
  });

  console.log(`\\nğŸ“Š ×ª×•×¦××” ×¡×•×¤×™×ª: ${successCount}/${testCases.length}`);

  if (successCount === testCases.length) {
    console.log('\\nğŸ†ğŸ†ğŸ† ×›×œ ×”××§×¨×™× ×¢×•×‘×“×™×!!! × ×•×¡×™×£ ×œ×©×¨×ª ×¢×›×©×™×•! ğŸ†ğŸ†ğŸ†');

    return true;
  } else {
    console.log('\\nğŸ”„ ×¢×•×“ ×œ× ××•×©×œ×...');
    return false;
  }
}

finalFinalSolution();